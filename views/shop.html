<!DOCTYPE html>
<html lang="en">

<head>
    <title>Dogs Shop Online</title>
    <meta charset="utf-8">

    <link rel="stylesheet" href="/shop/stylesheets/style.css">
    <link rel="shortcut icon" type="image/ico" href="/shop/images/favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap configuration -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
        crossorigin="anonymous">
</head>

<body>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.10/handlebars.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1"
        crossorigin="anonymous"></script>

    <script src="/shop/javascripts/commons.js" type="text/javascript"></script>
    <script src="/shop/javascripts/controller.js" type="text/javascript"></script>
    <script src="/shop/javascripts/init.js" type="text/javascript"></script>
    <script src="/shop/javascripts/messages.js" type="text/javascript"></script>
    <script src="/shop/javascripts/model.js" type="text/javascript"></script>
    <script src="/shop/javascripts/partials.js" type="text/javascript"></script>
    <script src="/shop/javascripts/passport.js" type="text/javascript"></script>
    <script src="/shop/javascripts/views.js" type="text/javascript"></script>


    <!-- Templates -->
    <script id="home-page-template" type="text/x-handlebars-template">
        {{> nav}}
        <header>
            <div class="jumbotron rounded-0 text-light">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 text-center">
                            <h1 class="display-3">Dogs Shop Web Site</h1>
                            <p>This Web Site presents a catalogue and shopping cart for the
              WES dogs shop company</p>
                        </div>
                    </div>
                </div>                
            </div>
        </header>
        {{> showMessages}}
        <div id="catalog" class="container">                       
            <div class="row d-flex justify-content-center flex-md-wrap">
                {{#each products}} 
                <div class="col-lg-4 col-md-6 col-sm-12">
                    <div class="card-deck">
                        <div class="card mb-3">
                            
                            <div class="card-header">
                                <h4 class="card-title"><strong>{{name}}</strong></h4>
                            </div>
                            <div class="card-body">
                                <p class="card-text" style="text-align:justify">
                                    <i>
                                    {{description}}
                            <strong>
                                <p style="color:red;">Characteristics:</p>
                            </strong>
                            
                            <label>Height:</label>{{height}}</br>
                            <label>Weight:</label>{{weight}}</br>
                            {{physical}}</br></br>
                            {{ideal}}</br>
                            <img height="198" class="card-img-top" src="{{url}}" />
                                </i>
                            </p>
                            </div>
                            <div class="card-footer">
                                <div class="d-flex justify-content-between">
                                    <p class="card-text text-muted">Price: <b>€{{price}}</b></p>
                                    <a href="#" class="btn btn-primary" onclick="Controller.itemToCart(event, '{{_id}}')">Add</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {{/each}}
            </div>
        </div>
        {{> footer}}
    </script>

    <script id="page-not-found-template" type="text/x-handlebars-template">
        <h2>Error 404</h2>
        <p>The page you're trying to access don't exist. Please, check the URL.</p>
    </script>

    <script id="sign-in-template" type="text/x-handlebars-template">
        {{> nav}}
        <div id="notification" style="padding-top: 7%">{{> showMessages}}</div> 
        <div class="form-style-1">
            <form id="signin-form" class="needs-validation" novalidation>
                <h2 class="p-3 text-center">Sign in</h2>
                <fieldset>                                
                    <label for="email">                        
                        <input type="email" id="email" class="form-control" placeholder="Email address" required autofocus value="{{user.email}}"/>
                        <div class="invalid-feedback text-left">Invalid email</div>
                    </label>          
                    <label for="password">
                        <input type="password" class="form-control" id="password" placeholder="Password" required/>
                        <div class="invalid-feedback text-left">Invalid password</div>
                    </label>        
                </fieldset>
                <div class="my-right-button">
                    <button type="button" class="btn btn-primary btn-md" onclick="Controller.SigninForm.signin(event)">Sign in</button> 
                </div>                              
            </form>             
        </div>        
        {{> footer}}
    </script>

    <script id="sign-up-template" type="text/x-handlebars-template">
        {{> nav}}
        <div id="notification" style="padding-top: 7%">{{> showMessages}}</div>        
        <div class="form-style-1">
            <form id="signup-form" class="needs-validation" novalidation>
                <h2 class="p-3 text-center">Sign up</h2>
                <fieldset>            
                    <label for="name">
                        <input type="text" class="form-control" id="name" placeholder="Name" required autofocus/>
                        <div class="invalid-feedback text-left">Invalid name</div>
                    </label>   
                    <label for="surname">
                        <input type="text" class="form-control" id="surname" placeholder="Surname" required autofocus/>
                        <div class="invalid-feedback text-left">Invalid surname</div> 
                    </label>                          
                    <label for="birth">
                            <input type="date" class="form-control" id="birth" placeholder="Birth date" required autofocus/>
                            <div class="invalid-feedback text-left">Invalid birth</div> 
                    </label>                
                    <label for="address">
                            <input type="text" class="form-control" id="address" placeholder="Address" required autofocus/>
                            <div class="invalid-feedback text-left">Invalid address</div> 
                    </label>                
                    <label for="email">
                            <input type="email" class="form-control" id="email" placeholder="Email" required autofocus/>
                            <div class="invalid-feedback text-left">Invalid address</div>
                    </label>                
                    <label for="password">
                            <input type="password" class="form-control" id="password" placeholder="Password" required autofocus/>
                            <div class="invalid-feedback text-left">Invalid password</div>
                    </label>  
                    <label for="password2">
                        <input type="password" class="form-control" id="password2" placeholder="Confirm Password" required autofocus/>
                        <div class="invalid-feedback text-left">Invalid password</div>
                    </label>              
                </fieldset>  
                <div class="my-right-button">
                    <button type="button" class="btn btn-primary btn-md" onclick="Controller.SignupForm.signupClicked(event)">Sign up</button>
                </div>                      
            </form>
        </div>
        {{> footer}}
    </script>

    <script id="profile-page-template" type="text/x-handlebars-template">
        {{> nav}}
        <div class="form-style-2">
            {{#if user}}
            <form>
                <h2 class="p-3 text-center">{{user.name}}'s Profile</h2>
                <fieldset>
                    <label for="name">
                        <span>Name:</span>
                        <input type="text" class="input-field" id="name" value="{{user.name}}" disabled readonly/>
                    </label>
                    <label for="surname">
                        <span>Surname:</span>
                        <input type="text" class="input-field" name="surname" value="{{user.surname}}" disabled readonly/>
                    </label>
                    <label for="birth">
                        <span>Birth:</span>
                        <input type="date" class="input-field" name="birth" value="{{user.birth}}" disabled readonly/>
                    </label>
                    <label for="address">
                        <span>Address:</span>
                        <input type="text" class="input-field" name="address" value="{{user.address}}" disabled readonly/>
                    </label>
                    <label for="email">
                        <span>Email:</span>
                        <input type="text" class="input-field" name="email" value="{{user.email}}" disabled readonly/>
                    </label>
                    <div style="padding-top: 5px"></div>
                    <div class="container" style="background-color: dodgerblue; padding-bottom: 15px; border-radius: 25px">
                        <div class="row">
                            <div class="col-sm-12 text-center">
                                <h3>Order List</h3>
                            </div>
                        </div>
                        <ul class="list-group">
                            {{#each order}}
                            <a href="/shop/views/users/{{idUser}}/orders/{{number}}" class="list-group-item d-flex justify-content-between align-items-center">
                                <span class="badge badge-primary">{{date}}</span>{{number}}<span class="badge badge-secondary badge-pill">€{{total}}</span>
                            </a>
                            {{/each}}
                        </ul>
                    </div>            
                </fieldset>
            </form> 
            {{else}}
            {{> showMessages}}
            {{/if}}
        </div>      
        {{> footer}}
    </script>

    <script id="cart-page-template" type="text/x-handlebars-template">
        {{> nav}}
        {{> showMessages}}
        <div class="form-style-2">           
            <form>
                <h2 class="p-3 text-center">Shopping Cart</h2>
                <fieldset>
                    <label for="total">
                            <span>Total:</span>
                            <input type="text" class="input-field" id="total" value="€{{cart.total}}" disabled readonly/>
                        </label>
                    <div>
                        <h3 class="text-center">Item List</h3>
                    </div>                        
                    <table id="cart-itemlist" class="text-center" style="width:100%; background-color: white;">
                        <thead>
                            <tr>
                                <th>Qty</th><th>Name</th><th>Price</th><th>Total</th><th></th>                            
                            </tr>
                        </thead>
                        <tbody>
                            {{#each cart.items}}
                            <tr>
                                <td>{{qty}}</td><td>{{product.name}}</td><td>€{{price}}</td><td>€{{total}}</td>
                                <td>
                                    <div class="btn-group">
                                        <button class="btn btn-sm dropdown-toggle button-fs2" type="button"  id="dropdownMenuButton"
                                            data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Action</button>
                                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton ">
                                            <a class="dropdown-item" href="/shop/views/cart" onclick="Controller.decreaseItem(event, '{{product._id}}')"><i class="fa fa-minus fa-fw"></i> Remove 1</a>
                                            <a class="dropdown-item" href="/shop/views/cart" onclick="Controller.removeItem(event, '{{product._id}}')"><i class="fa fa-times fa-fw"></i> Remove all</a>
                                        </div>
                                    </div>                                     
                                </td>
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                    <div style="padding-top:15px"></div>
                    <label for="subtotal">
                        <span>Subtotal:</span>
                        <input type="text" class="input-field" id="subtotal" value="€{{cart.subtotal}}" disabled readonly/>
                    </label>     
                    <label for="tax">
                        <span>Tax:</span>
                        <input type="text" class="input-field" id="tax" value="€{{cart.tax}}" disabled readonly/>
                    </label>     
                    <label for="total">
                        <span>Total:</span>
                        <input type="text" class="input-field" id="total" value="€{{cart.total}}" disabled readonly/>
                    </label>
                </fieldset>
                <div class="my-right-button">
                    <button type="button" id="signupBtn" class="btn btn-primary btn-right" onclick="Controller.purchase(event)">Purchase</button> 
                </div>       
            </form> 
        </div>      
        {{> footer}}
    </script>

    <script id="purchase-page-template" type="text/x-handlebars-template">
        {{> nav}}
        {{> showMessages}}
        <div class="form-style-2">
            <form id="purchase-form" class="needs-validation" novalidation>
                <h2 class="p-3 text-center">Purchase</h2>
                <fieldset>
                    <label for="date">
                        <span>Date:</span>
                        <input type="date" class="date-field" id="date" value="{{date}}" required disabled readonly/>
                    </label>     
                    <label for="address">
                        <span>Address:</span>
                        <input type="text" class="input-field" id="address" value="{{order.address}}" required/>
                    </label>                     
                    <label for="cardholder">
                        <span>Card&nbsp;Holder:</span>
                        <input type="text" class="input-field" id="cardholder" value="{{order.cardholder}}" required/>
                    </label>                     
                    <label for="cardnumber">
                        <span>Card&nbsp;Number:</span>
                        <input type="text" class="input-field" id="cardnumber" value="{{order.cardnumber}}" required/>
                    </label>         
                    <div class="container" style="background-color: dodgerblue; padding-bottom: 15px; padding-top:15px; border-radius: 25px">
                        <div>
                            <h3 class="text-center">Item List</h3>
                        </div> 
                        <table id="table-purchase" style="width:100%; background-color: white">
                            <thead>
                                <tr>
                                    <th>Qty</th><th>Product name</th><th>Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each cart.items}}
                                <tr>
                                    <td>{{qty}}</td><td>{{product.name}}</td><td>€{{total}}</td>
                                </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                    <div style="padding-top:15px"></div>
                    <label for="subtotal">
                        <span>Subtotal:</span>
                        <input type="text" class="input-field" id="subtotal" value="{{cart.subtotal}}" required disabled readonly/>
                    </label>
                    <label for="tax">
                        <span>Tax:</span>
                        <input type="text" class="input-field" id="tax" value="{{cart.tax}}" required disabled readonly/>
                    </label>
                    <label for="total">
                        <span>Total:</span>
                        <input type="text" class="input-field" id="total" value="{{cart.total}}" required disabled readonly/>
                    </label>
                </fieldset>
                <div class="my-right-button">
                    <button type="button" id="signupBtn" class="btn btn-primary" onclick="Controller.PurchaseForm.purchaseClicked(event)">Checkput</button>
                </div>                      
            </form>
        </div>        
        {{> footer}}
    </script>

    <script id="order-page-template" type="text/x-handlebars-template">
        {{> nav}}
        {{> showMessages}}
        <div class="form-style-2">
            <form>
                <h2 class="p-3 text-center">Order</h2>
                <fieldset>
                    <label for="number">
                        <span>Number:</span>
                        <input type="number" class="input-field" name="number" value="{{order.number}}" disabled readonly/>
                    </label>
                    <label for="date">
                        <span>Date:</span>
                        <input type="date" class="input-field" name="date" value="{{order.date}}" disabled readonly/>
                    </label>
                    <label for="name">
                        <span>Name:</span>
                        <input type="text" class="input-field" name="name" value="{{user.name}}" disabled readonly/>
                    </label>
                    <label for="surname">
                        <span>Surname:</span>
                        <input type="text" class="input-field" name="surname" value="{{user.surname}}" disabled readonly/>
                    </label>
                    <label for="address">
                        <span>Address:</span>
                        <input type="text" class="input-field" name="address" value="{{user.address}}" disabled readonly/>
                    </label>
                    <label for="cardholder">
                        <span>Card&nbsp;Holder:</span>
                        <input type="text" class="input-field" name="cardholder" value="{{order.cardHolder}}" disabled readonly/>
                    </label>
                    <label for="cardnumber">
                        <span>Card&nbsp;Number:</span>
                        <input type="number" class="input-field" name="cardnumber" value="{{order.cardNumber}}" disabled readonly/>
                    </label>
                    <label for="subtotal">
                        <span>Subtotal:</span>
                        <input type="number" class="input-field" name="subtotal" value="{{order.subtotal}}" disabled readonly/>
                    </label>
                    <label for="tax">
                        <span>Tax:</span>
                        <input type="number" class="input-field" name="tax" value="{{order.tax}}" disabled readonly/>
                    </label>
                    <label for="total">
                        <span>Total:</span>
                        <input type="number" class="input-field" name="total" value="{{order.total}}" disabled readonly/>
                    </label>
                    <div class="container" style="background-color: dodgerblue; padding-bottom: 15px; border-radius: 25px">
                        <div class="row">
                            <div class="col-sm-12 text-center">
                                <h3>Item List</h3>
                            </div>
                        </div>
                        <table style="width:100%; background-color: white">
                            <thead>
                                <tr>
                                    <th>Qty</th><th>Product name</th><th>Price</th><th>Total</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{#each order.items}}
                                <tr>
                                    <td>{{qty}}</td><td>{{product.name}}</td><td>{{price}}</td><td>{{total}}</td>
                                </tr>
                                {{/each}}
                            </tbody>
                        </table>
                    </div>
                </fieldset>   
            </form>
        </div>     
        {{> footer}}
    </script>

    <!-- Page contents -->
    <div id="contents" class="container"></div>
</body>

</html>